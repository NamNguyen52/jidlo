// Place all the behaviors and hooks related to the matching controller here.
// All this logic will automatically be available in application.js.
// You can use CoffeeScript in this file: http://coffeescript.org/


var apiCall = function() {

	var api_url = '/api/' + gon.uniqueid + '/restaurants/top'
	var api_url_two = '/api/' + gon.uniqueid + '/restaurants/toptwo'

	$.ajax({url: api_url, method: 'GET'}).done(function(data){
		$("p#test1").text(data.venueOne)
		$("p#test11").text(data.venueOneAddress)
		$("p#test2").text(data.venueTwo)
		$("p#test22").text(data.venueTwoAddress)
		$("p#test3").text(data.venueThree)
		$("p#test33").text(data.venueThreeAddress)

	});

		$.ajax({url: api_url_two, method: 'GET'}).done(function(data){
		$("p#venueFinal").text(data.venue)

	});


};

var apiTimer = function() {
	setInterval( function() {apiCall()}, 5000)	
};

$('h1#title').ready(function() { 
	apiTimer();
});
